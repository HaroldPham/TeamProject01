import java.util.*;
import java.io.*;

public class GenealogySort{

   public static void main(String[] args) throws FileNotFoundException{
      File names = new File("tudor.dat"); //declares file to search
      Scanner console = new Scanner(System.in); //scans file
      boolean exit = false; //declared false until user exits the program
      ArrayList<Person> family = readFile(console); //constructs the array list from the file
      searchPrompt(family); //runs the prompt passing the arraylist
   }

   public static void searchPrompt(ArrayList<Person> family, Scanner Console) throws FileNotFoundException {
         System.out.println("Person's name? (quit to exit): "); //Prompts the user for name
         String name = console.next().toLowerCase(); //declares name
         int nameIndex = find(family, name) //search the file for the name location
        
         while (!name.equals("quit")) { //if name is not "quit" run method

            if (nameIndex > 0){ //name was found
               sort(name); //execute sort, passing String name declared above
            } else {
               System.out.println("Name not found. Try again!"); //else loop
            }
            System.out.println("Person's name? (quit to exit): "); //fencepost
            name = console.next().toLowerCase();
         }
         System.out.println("Thank you for using our program!"); //exit
    }

    public void sort (Person name) { //recieves name from searchPrompt
      System.out.println("Maternal Line:");
         name.getMother();
      System.out.println("Paternal Line:");
         name.getFather();
      System.out.println("Children:");
         name.getChildren();
    }

   public static ArrayList<Person> readFile (Scanner console)//this should read the find, and sort the data
   {
      ArrayList<Person> names = new ArrayList<Person>();
      String names;

      while (console.hasNextLine()) {
         persons = console.nextLine();
         if (persons.toLowerCase().equals("end")) {
            break;
         } else if (persons.length() < 1) {
            continue; 
         }
         Person j = new Person(persons);

         names.add(j);
      }
   }
   
   // search function to detemine if name exists in arraylist family. Returns -1 if not found
   public static int find(ArrayList<Person> family, String name) {
      for (int i=0; i<family.size(); i++) {
         if (family.get(i).getName().equals(name)) {
            return i;
         }
      }
      return -1;
   }
   
}
